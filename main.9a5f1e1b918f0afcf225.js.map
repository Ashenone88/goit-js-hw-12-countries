{"version":3,"sources":["webpack:///./index.js","webpack:///./js/fetchCountries.js","webpack:///./templete.hbs"],"names":["debounce","require","refs","input","document","querySelector","countryList","countryInfo","inputSearchHandler","data","counrty","objElem","markup","length","clearOutput","PNotify","error","title","text","drowCountries","map","name","join","insertAdjacentHTML","countriesListDrowToHTML","templete","innerHTML","addEventListener","query","value","onData","fetch","then","resolve","json","catch","console","Handlebars","module","exports","template","container","depth0","helpers","partials","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","call","capital","population","each","languages","program","noop","flag"],"mappings":"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","file":"main.9a5f1e1b918f0afcf225.js","sourcesContent":["import './styles.css';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\nimport templete from './templete.hbs';\nimport fetchCountries from './js/fetchCountries';\nconst debounce = require('lodash.debounce');\n\nconst refs = {\n  input: document.querySelector('#input'),\n  countryList: document.querySelector('#js-country__list'),\n  countryInfo: document.querySelector('#js-country__info'),\n};\n\nconst baseUrl = 'https://restcountries.eu/rest/v2/name/';\n\nrefs.input.addEventListener('input', debounce(inputSubmit, 500));\n\nfunction inputSubmit() {\n  fetchCountries(baseUrl, `${refs.input.value}`, inputSearchHandler);\n}\n\nfunction inputSearchHandler(data) {\n  if (data.length >= 10) {\n    soMatchCountriesList();\n  } else if (data.length > 1) {\n    countriesListDrowToHTML(data);\n  } else {\n    creatMarkupOneCountry(data[0]);\n  }\n}\n\nfunction soMatchCountriesList() {\n  clearOutput();\n  PNotify.error({\n    title: 'Error!',\n    text: 'To many matches found. Please enter a more specific query!',\n  });\n}\n\nfunction countriesListDrowToHTML(drowCountries) {\n  clearOutput();\n  const markup = drowCountries\n    .map(({ name }) => `<li class=\"list__item\">${name}</li>`)\n    .join('');\n\n  refs.countryList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction creatMarkupOneCountry(counrty) {\n  clearOutput();\n  creatMarkup(counrty);\n}\n\nfunction creatMarkup(objElem) {\n  const markup = templete(objElem);\n  refs.countryInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearOutput() {\n  refs.countryList.innerHTML = '';\n  refs.countryInfo.innerHTML = '';\n}\n\n///////////////////////\n\n// refs.input.addEventListener('input', debounce(handleInputFetchCountries, 1000));\n\n// function handleInputFetchCountries() {\n//   fetchCountries(baseUrl, `${refs.input.value}`, onDataReady);\n// }\n\n// function onDataReady(data) {\n//   if (data.length >= 10) {\n//     fnToManyMatches();\n//   } else if (data.length > 1) {\n//     showCountryList(data);\n//   } else {\n//     showOneCountry(data[0]);\n//   }\n// }\n\n// function fnToManyMatches() {\n//   clearOutput();\n//   PNotify.error({\n//     title: 'Error!',\n//     text: 'To many matches found. Please enter a more specific query!',\n//   });\n// }\n\n// function showCountryList(data) {\n//   clearOutput();\n//   const listMarkup = data\n//     .map(item => `<li class=\"country-list__item\">${item.name}</li>`)\n//     .join('');\n\n//   refs.countryList.insertAdjacentHTML('beforeend', listMarkup);\n// }\n\n// function showOneCountry(dataObj) {\n//   clearOutput();\n//   createMarkup(dataObj);\n// }\n\n// function createMarkup(obj) {\n//   const markup = countryTemplate(obj);\n//   refs.countryInfo.insertAdjacentHTML('beforeend', markup);\n// }\n\n// function cleardOutput() {\n//   refs.countryInfo.innerHTML = '';\n//   refs.countryList.innerHTML = '';\n// }\n","export default function fetchCountries(baseUrl, query, onData) {\n  return fetch(`https://restcountries.eu/rest/v2/name/${query}`)\n    .then(resolve => resolve.json())\n    .then(data => {\n      onData(data);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <li class=\\\"list__item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<h2 class=\\\"country__name\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":26},\"end\":{\"line\":1,\"column\":34}}}) : helper)))\n    + \"</h2>\\n<div class=\\\"box\\\">\\n    <div class=\\\"box__items\\\">\\n        <p class=\\\"country__capital\\\"><span>Capital: </span>\"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":58},\"end\":{\"line\":4,\"column\":69}}}) : helper)))\n    + \"</p>\\n        <p class=\\\"country__population\\\"><span>Population: </span>\"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":64},\"end\":{\"line\":5,\"column\":78}}}) : helper)))\n    + \"</p>\\n        <p class=\\\"country__langueges\\\">Languages:</p>\\n        <ul class=\\\"langueges__list\\\">\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":12},\"end\":{\"line\":10,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\n    </div>\\n    <div class=\\\"box__items\\\">\\n        <img class=\\\"img\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":30},\"end\":{\"line\":14,\"column\":38}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":45},\"end\":{\"line\":14,\"column\":53}}}) : helper)))\n    + \"\\\" class=\\\"right__image\\\">\\n    </div>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}